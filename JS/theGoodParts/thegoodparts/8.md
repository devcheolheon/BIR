---
title: 7 - 정규 표현식 
order: 8 
---

### 정규 표현식 

자바스크립트의 정규표현식은 Perl에서 가져온 것입니다. 

자바스크립트에서 정규 표현식은 보통 같은 문자열에 대해 반복해서 
연산을 수행할 때 주목할 만한 성능상의 이점이 있습니다. 

정규표현식은 정규 언어 대한 수학적 연구에서 비롯된 것입니다. 
정규 표현식은 엄격하게 정규적이지는 않지만 매우 유용합니다.
정규 표현식은 매우 간결해지는 경향이 있습니다. 


### 01 예제 

#### URL에 일치하는 정규 표현식

```javascript 

var parse_url = /^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/;

var url = "http://www.ora.com:80/goodparts?q#fragment";
var result = parse_url.exec(url); 
var names = ['url', 'scheme', 'slash', 'host', 'port', 'path', 'query', 'hash']; 
var blanks = '        ' ; 

var i; 
for(i = 0 ; i < names.length ; i++){
    console.log(names[i] + ':' + blanks.substring(names[i].length), result[i]); 
}

```

각 부분을 살펴보면 

> ^ 

문자열의 시작을 나타냅니다. 

> (?:([A-Za-z]+):)? 

프로토콜 이름에 일치하는 부분입니다. 
(?: ...) 는 캡쳐하지 않는 그룹을 나타냅니다. 

각각의 캡쳐 그룹은 번호 주어지고, 결과 배열에 해당 인덱스에 
캡쳐 그룹에 일치하는 텍스트의 복사본이 주어집니다. 

> \/{0,3} 

백 슬래시가 / 정규 표현식에 슬래시로 잘못 해석되지 않게  \를 통해 이스케이프 됩니다. 

> ([0-9.\-A-Za-z])

-는 범위를 나타내는 -와 혼동되지 않기 위히 \를 통해 이스케이프 됩니다. 

> (?::(\d+))? 

옵션으로 올 수 있는 포트 번호입니다. : 다음에 하나 이상의 연속 숫자입니다. 

> (?:\/([^?#]*))? 

*는 0번 이상 일치한다는 것을 의미합니다. 
^를 자주 사용할 경우, 여전히 원치 않는 문자가 끼어들 위험성이 남아있습니다. 

> (?:\?([^#]*))?

?로 시작하는 옵션 그룹입니다. #이 아닌 문자가 0번 이상 나오는 캡쳐 그룹이 포함됩니다. 

> (?:#(.*))?

#으로 시작하는 마지막 옵션 그룹입니다. 

> $

문자열의 끝을 의미합니다. 
정규 표현식은 길이가 짧고 간단할 때 최상이라고 할 수 있습니다. 
단순함이 최상의 전략입니다. 


#### 숫자에 일치하는 정규표현식

```javascript 
  var parse_number = /^-?\d+(?:\.\d*)?(?:e[+\-]?\d+)?$/i;
  var test = function (num){
      return parse_number.test(num); 
  }
```

> /^  $/i 

텍스트 내의 모든 문자가 정규 표현식과 대응되어야 함을 의미합니다. 
i 플래그는 문자를 검사할때 대소문자를 구분하지 않게 합니다. 

> -? 

기호 - 뒤에 붙는 ?는 음수 기호가 옵션이라는 뜻

> \d+ 

[0-9]+ 와 같은 의미입니다. 

> (?:\.\d*)? 

(?: ... )? 는 옵션인 비캡쳐 그룹을 나타냅니다. 
캠쳐 그룹은 성능상의 약점이 있기 때문에 보통의 경우 약간 복잡함이 더해지더라도 
캡처그룹보다는 비캡쳐 그룹을 사용하는 것이 좋습니다. 

> (?:e[+\-]?\d+)? 

도 하나의 옵션인 비 캠쳐 그룹입니다. 


### 정규 표현식 객체 생성 

> /" ... "/g 

정규 표현식 리터럴을 활용하는 방법 

|플래그|설명|
|------|---|
|g|Global(여러번 일치함, 정확한 의미는 메소드에 따라 다름|
|i|대소문자를 구분하지 않음|
|m|^ 과 $가 라인 끝 문자에 일치할 수 있음|


> new Regexp(" ... ", 'g'); 

정규 표현식 생성자를 활용하는 방법

lastIndex속성을 가지고 있음, 다음 exec 실행을 위한 시작점을 나타냄 
(초기값은 0)

### 구성요소 

#### 선택 
 
```javascript
"into".match(/in|int/)
```

into에서 in으로 먼저 발견, in이 일치하는 것이 된다.

#### 시퀀스

> 정규 표현식 요소  + 정규 표현식 수량자 

정규표현식 요소 가 몇번 나오는지 나타내는 수량자를 선택적으로 
붙일 수 있다. 

#### 정규표현식 요소 

정규표현식 요소는 문자 괄호로 묶인 그룹, 문자 클래스, 이스케이프 시퀀스 등이 될 수 있다. 

#### 이스케이프

\d : 아라비아 숫자에 일치합니다. 
\D : [^0-9] 

\s : 유니코드 공백 문자의 집합
\S : \s의 반대 

\w : [0-9A-Z_a-z]와 같습니다. 
\W : \w의 반대 .. 실제 언어를 다루는데 그다지 쓸모 있지 않습니다. 

\b : 단어 경계를 나타내어 문자 기반으로 일치시키기 쉽게 하기 위해서 고안된 것 
   
\1 : 첫 번째 그룹에 캡처된 텍스트에 대한 참조 

#### 그룹 

##### 캡쳐 

괄호로 묶인 정규 표현식 선택

##### 비캡쳐 

(?: 로 시작, 단순히 일치하는지 확인할 뿐이지 일치하는 텍스트를 캡처하지는 않습니다. 

##### 긍정형 룩어헤드 

(?= 비 캡쳐 그룹과 유사한데 다만 일치되는 부분을 찾은 후에 그룹이 시작하는 지점으로 다시 돌립니다. 

##### 부정형 룩어헤드 

(?! 찾지 못했을때가 일치하는 경우가 됨


#### 문자 클래스 

하이픈 - 를 통해 범위를 나타낼 수 있다. 

클래스 내에  이스케이프 하는 방법은 정규 표현식 요소와 다르다. 


